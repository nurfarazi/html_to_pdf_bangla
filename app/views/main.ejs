<!Doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>html to pdf</title>
    <link href="css/main.css" rel="stylesheet">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='pdfmake/build/pdfmake.js'></script>
    <script src='pdfmake/build/vfs_fonts.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.2.61/jspdf.debug.js'></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


<!-- http://pdfmake.org/#/ -->
</head>

<body>

    <h1>অনিতম দাশ নির্ঝর Medha </h1>
    <input type="text" id="nirjhar"></input>
    <div class="btn-group">
        <div class="btn btn-success buttin_click_1" type="button">download</div>
        <div class="btn btn-danger button_click_2" type="button">open</div>
    </div>




</body>

<script>
    $(document).ready(function () {

        $('.buttin_click_1').click(function () {

            pdfMake.fonts = {
                Roboto:{
                    normal: 'Roboto-Regular.ttf',
                    bold: 'Roboto-Medium.ttf',
                    italics: 'Roboto-Italic.ttf',
                    bolditalics: 'Roboto-Italic.ttf'
                },
                SolaimanLipi: {
                    normal: 'SolaimanLipi.ttf',
                    bold: 'SolaimanLipi.ttf',
                    italics: 'SolaimanLipi.ttf',
                    bolditalics: 'SolaimanLipi.ttf'
                }
            };
            var docDefinition = {
                content: 'hjgljgljk uiuuuuuuuuuuiuiu njhghg',
                style: {
                    font: 'SolaimanLipi'
                }
            };

            console.log(docDefinition);

            pdfMake.createPdf(docDefinition).open();


            $.post("/nirjhar",{mytext:document.getElementById('nirjhar').value}, function(data, status) {
                console.log(data);
                window.open('data:application/pdf;base64,' + data);


//                alert("Data: " + data + "\nStatus: " + status);
//                console.log(data);
//
//                pdfMake.fonts = {
//                    Roboto:{
//                        normal: 'examples/fonts/Roboto-Regular.ttf',
//                        bold: 'examples/fonts/Roboto-Medium.ttf',
//                        italics: 'examples/fonts/Roboto-Italic.ttf',
//                        bolditalics: 'examples/fonts/Roboto-Italic.ttf'
//                    },
//                    SolaimanLipi: {
//                        normal: 'examples/fonts/SolaimanLipi.ttf',
//                        bold: 'examples/fonts/SolaimanLipi.ttf',
//                        italics: 'examples/fonts/SolaimanLipi.ttf',
//                        bolditalics: 'examples/fonts/SolaimanLipi.ttf'
//                    }
//                };
//                var docDefinition = {
//                    content: data[0].name + 'h\u016B'  + 'নির্ঝর',
//                    style: {
//                        font: 'SolaimanLipi'
//                    }
//                };
//
//                console.log(docDefinition);
//
//                pdfMake.createPdf(docDefinition).open();

            });
        });

        $('.button_click_2').click(function () {
          var doc = new jsPDF();
          var elementHandler = {
          '#ignorePDF': function (element, renderer) {
            return true;
          }
          };
          var source = $("body")[0];
          doc.setFont('arial');
          doc.fromHTML(
            source,
            15,
            15,
            {
              'width': 180,'elementHandlers': elementHandler
            });
            doc.autoPrint();
          doc.output("dataurlnewwindow");
        });
    });
</script>


</html>
